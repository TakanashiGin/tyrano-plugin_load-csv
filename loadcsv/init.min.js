$.loadcsv={decleareArrays:function(t,a){for(var o=[],e=0;e<a.length&&""!=a[e];e++){o[e]=a[e].split(",");for(var r=0;r<o[e].length;r++)o[e][r]=o[e][r].replace(/(^\s+)|(\s+$)/g,""),t.parse_float&&(o[e][r]=this.parseNum(o[e][r])),t.lower_bool&&(o[e][r]=this.toLowerBool(o[e][r]))}return o},toBoolean:function(t){return"true"===t||!0===t},parseNum:function(t){return"string"==typeof t&&t&&!Number.isNaN(+t)&&t.indexOf("0x")<0?parseFloat(t):t},toLowerBool:function(t){return"string"==typeof t?"TRUE"==t||"FALSE"!=t&&t:t},toObject:function(t,a){for(var o={},e=1;e<t.length;e++){o[t[e][a]]={};for(var r=0;r<t[e].length;r++)o[t[e][a]][t[0][r]]=t[e][r]}return o},debugLog:function(pm){var that=this,f=TYRANO.kag.stat.f,tf=TYRANO.kag.variable.tf,sf=TYRANO.kag.variable.sf,mp=TYRANO.kag.stat.mp;pm.log&&(console.log("variable: "+pm.var),console.log(eval(pm.var)))}},tyrano.plugin.kag.tag.loadcsv={vital:["src"],pm:{var:"tf.loaded_csv",time:"10",log:"false",parse_float:"true",lower_bool:"true",to_object:"false",key_num:"0"},start:function(pm){var that=$.loadcsv,f=TYRANO.kag.stat.f,tf=TYRANO.kag.variable.tf,sf=TYRANO.kag.variable.sf,mp=TYRANO.kag.stat.mp;if(!pm.src)return console.error("[ERROR] The CSV file is not specified correctly"),!1;0==parseInt(pm.time)&&(console.warn("[WARNING] time cannot be a number less than or equal to 0 (re-set the time to 10)"),pm.time=10),pm.parse_float=that.toBoolean(pm.parse_float),pm.lower_bool=that.toBoolean(pm.lower_bool),pm.log=that.toBoolean(pm.log),pm.to_object=that.toBoolean(pm.to_object),pm.key_num=parseInt(pm.key_num);var url="./data/others/"+pm.src;$.get(url,function(data){data=data.split("\n"),setTimeout(function(){var array=that.decleareArrays(pm,data);if(pm.to_object){var obj=that.toObject(array,pm.key_num);eval(pm.var+"= obj")}else eval(pm.var+"= array");that.debugLog(pm),TYRANO.kag.ftag.nextOrder()},parseInt(pm.time))})}},tyrano.plugin.kag.tag.loadcsv_xmlhttp={vital:["src"],pm:{var:"tf.loaded_csv",time:"10",log:"false",parse_float:"true",lower_bool:"true",to_object:"false",key_num:"0"},start:function(pm){var that=$.loadcsv,f=TYRANO.kag.stat.f,tf=TYRANO.kag.variable.tf,sf=TYRANO.kag.variable.sf,mp=TYRANO.kag.stat.mp;if(!pm.src)return console.error("[ERROR] The CSV file is not specified correctly"),!1;pm.parse_float=that.toBoolean(pm.parse_float),pm.lower_bool=that.toBoolean(pm.lower_bool),pm.log=that.toBoolean(pm.log),pm.to_object=that.toBoolean(pm.to_object),pm.key_num=parseInt(pm.key_num);var array=function(){var t="./data/others/"+pm.src,a=[],o=new XMLHttpRequest;o.open("get",t,!1),o.send(),a=o.responseText.split("\n");for(var e=[],r=0;r<a.length&&""!=a[r];r++){e[r]=a[r].split(",");for(var l=0;l<e[r].length;l++)e[r][l]=e[r][l].replace(/(^\s+)|(\s+$)/g,""),pm.parse_float&&(e[r][l]=that.parseNum(e[r][l])),pm.lower_bool&&(e[r][l]=that.toLowerBool(e[r][l]))}return e}();if(pm.to_object){var obj=that.toObject(array,pm.key_num);eval(pm.var+"= obj")}else eval(pm.var+"= array");that.debugLog(pm),this.kag.ftag.nextOrder()}},["loadcsv","loadcsv_xmlhttp"].forEach(function(t){tyrano.plugin.kag.ftag.master_tag[t]=object(tyrano.plugin.kag.tag[t]),tyrano.plugin.kag.ftag.master_tag[t].kag=TYRANO.kag});